import React, { useRef } from "react";
import { Canvas, useFrame, extend } from "react-three-fiber";
import { OrbitControls, Float } from "@react-three/drei";
import { Earth } from "../Components/Earth.tsx";
import { Ufo } from "../Components/Ufo.tsx";

extend({ OrbitControls });

const UfoScene = () => {
  return (
    <div className="scene--ufo">
      <Canvas className="earth" shadows>
      <OrbitControls
        autoRotate
        autoRotateSpeed={0.9}
        enableZoom
        minDistance={80}
        maxDistance={60}
        enableRotate
        />
        <Scene />
      </Canvas>
      <svg className="ufoCircles" viewBox="0 0 800 800"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="nnneon-grad"><stop stop-color="hsl(162, 100%, 58%)" stop-opacity="1" offset="0%"></stop><stop stop-color="hsl(270, 73%, 53%)" stop-opacity="1" offset="100%"></stop></linearGradient><filter id="nnneon-filter" x="-100%" y="-100%" width="400%" height="400%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
	<feGaussianBlur stdDeviation="17 8" x="0%" y="0%" width="100%" height="100%" in="SourceGraphic" edgeMode="none" result="blur"></feGaussianBlur></filter><filter id="nnneon-filter2" x="-100%" y="-100%" width="400%" height="400%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
	<feGaussianBlur stdDeviation="10 17" x="0%" y="0%" width="100%" height="100%" in="SourceGraphic" edgeMode="none" result="blur"></feGaussianBlur></filter></defs><g stroke-width="16" stroke="url(#nnneon-grad)" fill="none"><path d="M380.6780531915134 121.3251322052896C392.6344833187436 114.42332735485874 407.3655471988345 114.42332735485874 419.3219773260648 121.32706440149639L631.6780692302514 243.9307103069807C643.6344993574817 250.8325151574116 651.0000312975271 263.59080671043375 651.0000312975271 277.3963486075023V522.6036404184711C651.0000312975271 536.4091823155395 643.6344993574817 549.1674738685617 631.6780692302514 556.0712109151993L419.3219773260648 678.6748568206837C407.3655471988345 685.5766616711145 392.6344833187436 685.5766616711145 380.6780531915134 678.6729246244769L168.3219612873267 556.0692787189926C156.36553116009657 549.1674738685617 148.99999922005105 536.4091823155395 148.99999922005105 522.6036404184711V277.3963486075023C148.99999922005105 263.59080671043375 156.36553116009657 250.8325151574116 168.3219612873267 243.92877811077403L380.6780531915134 121.3251322052896Z " filter="url(#nnneon-filter)"></path><path d="M392.6780531915134 121.3251322052896C404.6344833187436 114.42332735485874 419.3655471988345 114.42332735485874 431.3219773260648 121.32706440149639L643.6780692302514 243.9307103069807C655.6344993574817 250.8325151574116 663.0000312975271 263.59080671043375 663.0000312975271 277.3963486075023V522.6036404184711C663.0000312975271 536.4091823155395 655.6344993574817 549.1674738685617 643.6780692302514 556.0712109151993L431.3219773260648 678.6748568206837C419.3655471988345 685.5766616711145 404.6344833187436 685.5766616711145 392.6780531915134 678.6729246244769L180.3219612873267 556.0692787189926C168.36553116009657 549.1674738685617 160.99999922005105 536.4091823155395 160.99999922005105 522.6036404184711V277.3963486075023C160.99999922005105 263.59080671043375 168.36553116009657 250.8325151574116 180.3219612873267 243.92877811077403L392.6780531915134 121.3251322052896Z " filter="url(#nnneon-filter2)" opacity="0.25"></path><path d="M368.6780531915134 121.3251322052896C380.6344833187436 114.42332735485874 395.3655471988345 114.42332735485874 407.3219773260648 121.32706440149639L619.6780692302514 243.9307103069807C631.6344993574817 250.8325151574116 639.0000312975271 263.59080671043375 639.0000312975271 277.3963486075023V522.6036404184711C639.0000312975271 536.4091823155395 631.6344993574817 549.1674738685617 619.6780692302514 556.0712109151993L407.3219773260648 678.6748568206837C395.3655471988345 685.5766616711145 380.6344833187436 685.5766616711145 368.6780531915134 678.6729246244769L156.3219612873267 556.0692787189926C144.36553116009657 549.1674738685617 136.99999922005105 536.4091823155395 136.99999922005105 522.6036404184711V277.3963486075023C136.99999922005105 263.59080671043375 144.36553116009657 250.8325151574116 156.3219612873267 243.92877811077403L368.6780531915134 121.3251322052896Z " filter="url(#nnneon-filter2)" opacity="0.25"></path><path d="M380.6780531915134 121.3251322052896C392.6344833187436 114.42332735485874 407.3655471988345 114.42332735485874 419.3219773260648 121.32706440149639L631.6780692302514 243.9307103069807C643.6344993574817 250.8325151574116 651.0000312975271 263.59080671043375 651.0000312975271 277.3963486075023V522.6036404184711C651.0000312975271 536.4091823155395 643.6344993574817 549.1674738685617 631.6780692302514 556.0712109151993L419.3219773260648 678.6748568206837C407.3655471988345 685.5766616711145 392.6344833187436 685.5766616711145 380.6780531915134 678.6729246244769L168.3219612873267 556.0692787189926C156.36553116009657 549.1674738685617 148.99999922005105 536.4091823155395 148.99999922005105 522.6036404184711V277.3963486075023C148.99999922005105 263.59080671043375 156.36553116009657 250.8325151574116 168.3219612873267 243.92877811077403L380.6780531915134 121.3251322052896Z "></path></g></svg>
    </div>
  );
};

function Scene() {
  return (
    <>
      {/* Ambient Light */}
      <ambientLight intensity={1.5} />

      {/* Directional Light (Simulating Sun) */}
      <directionalLight position={[10, 10, 0]} intensity={5} castShadow />

      {/* Your Earth object with shadow */}
      <mesh castShadow>
        <Float speed={1.4} rotationIntensity={1.6} floatIntensity={1}>
          <Ufo />
        </Float>
      </mesh>
    </>
  );
}

export default UfoScene;
